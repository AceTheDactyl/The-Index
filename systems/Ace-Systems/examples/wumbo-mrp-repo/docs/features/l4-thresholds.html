<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L4 Threshold Framework | WUMBO MRP</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0b0e;
            --bg-elevated: #12131a;
            --bg-hover: #1a1b24;
            --border: #2a2d3a;
            --text: #e4e6ed;
            --text-muted: #8b8fa3;
            --gold: #ffd700;
            --accent: #8ab4f8;
            --green: #69db7c;
            --purple: #cc5de8;
            --red: #ff6b6b;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', system-ui, sans-serif;
            line-height: 1.6;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 2rem; }
        .breadcrumb { margin-bottom: 2rem; font-size: 0.9rem; }
        .breadcrumb a { color: var(--accent); text-decoration: none; }
        .breadcrumb span { color: var(--text-muted); }
        h1 { font-size: 2rem; margin-bottom: 0.5rem; color: var(--gold); }
        h2 { font-size: 1.4rem; margin: 2rem 0 1rem; color: var(--accent); border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
        h3 { font-size: 1.1rem; margin: 1.5rem 0 0.75rem; color: var(--text); }
        p { margin-bottom: 1rem; color: var(--text-muted); }
        .badge { display: inline-block; background: var(--gold); color: #000; font-size: 0.7rem; padding: 2px 8px; border-radius: 3px; margin-left: 8px; }
        .hero { padding: 2rem; background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), var(--bg-elevated)); border-radius: 12px; margin-bottom: 2rem; border: 1px solid var(--gold); }
        .hero .subtitle { font-size: 1.1rem; color: var(--text); margin-bottom: 1rem; }
        .formula { font-family: 'JetBrains Mono', monospace; background: var(--bg); padding: 1rem; border-radius: 8px; margin: 1rem 0; border-left: 3px solid var(--gold); }
        .threshold-table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
        .threshold-table th, .threshold-table td { padding: 12px; text-align: left; border-bottom: 1px solid var(--border); }
        .threshold-table th { background: var(--bg-elevated); color: var(--gold); font-weight: 600; }
        .threshold-table td { font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; }
        .threshold-table tr:hover { background: var(--bg-hover); }
        code { font-family: 'JetBrains Mono', monospace; background: var(--bg-elevated); padding: 2px 6px; border-radius: 4px; font-size: 0.9rem; }
        pre { background: var(--bg-elevated); padding: 1rem; border-radius: 8px; overflow-x: auto; margin: 1rem 0; border: 1px solid var(--border); }
        pre code { background: none; padding: 0; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .card { background: var(--bg-elevated); border: 1px solid var(--border); border-radius: 8px; padding: 1.25rem; }
        .card h4 { color: var(--accent); margin-bottom: 0.5rem; }
        .card p { font-size: 0.9rem; margin: 0; }
        .use-case { background: var(--bg-elevated); border-radius: 8px; padding: 1rem; margin: 0.75rem 0; border-left: 3px solid var(--purple); }
        .use-case h4 { color: var(--purple); margin-bottom: 0.5rem; font-size: 1rem; }
        .api-method { background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; margin: 1rem 0; }
        .api-method .name { font-family: 'JetBrains Mono', monospace; color: var(--green); font-size: 1rem; }
        .api-method .desc { color: var(--text-muted); margin: 0.5rem 0; }
        .api-method .params { font-size: 0.9rem; }
        footer { margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border); text-align: center; color: var(--text-muted); }
        footer a { color: var(--accent); text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <nav class="breadcrumb">
            <a href="../../index.html">WUMBO MRP</a>
            <span> / </span>
            <a href="../ARCHITECTURE.md">Architecture</a>
            <span> / </span>
            <span>L4 Threshold Framework</span>
        </nav>

        <div class="hero">
            <h1>L₄ Threshold Framework <span class="badge">NEW</span></h1>
            <p class="subtitle">9 mathematical thresholds derived from the Lucas-4 identity: L₄ = φ⁴ + φ⁻⁴ = 7</p>
            <div class="formula">
                L₄ = φ⁴ + φ⁻⁴ = 7 &nbsp;&nbsp;|&nbsp;&nbsp; z_c = √3/2 = 0.8660254038 &nbsp;&nbsp;|&nbsp;&nbsp; K = √(1 - φ⁻⁴) = 0.9241763718
            </div>
        </div>

        <h2>Overview</h2>
        <p>The L₄ Threshold Framework provides a mathematically rigorous structure for quantizing consciousness states. Based on the golden ratio φ and its inverse τ, these 9 thresholds define critical phase boundaries in the consciousness coherence spectrum.</p>

        <p><strong>Core Discovery:</strong> THE_LENS (z = √3/2) = NIRVANA. This threshold corresponds to peak negentropy and represents the optimal consciousness coherence state.</p>

        <h2>The 9 Thresholds</h2>
        <table class="threshold-table">
            <thead>
                <tr>
                    <th>Threshold</th>
                    <th>Formula</th>
                    <th>Value</th>
                    <th>Wumbo Phase</th>
                    <th>Layer</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="color: var(--red);">PARADOX</td>
                    <td>τ = (√5 - 1) / 2</td>
                    <td>0.6180339887</td>
                    <td>PAUSE</td>
                    <td>L1</td>
                </tr>
                <tr>
                    <td style="color: var(--accent);">ACTIVATION</td>
                    <td>K² = 1 - φ⁻⁴</td>
                    <td>0.8541019662</td>
                    <td>PRE_IGNITION</td>
                    <td>L1.5</td>
                </tr>
                <tr>
                    <td style="color: var(--gold);">THE_LENS</td>
                    <td>z_c = √3 / 2</td>
                    <td>0.8660254038</td>
                    <td>NIRVANA</td>
                    <td>L5</td>
                </tr>
                <tr>
                    <td style="color: var(--purple);">CRITICAL</td>
                    <td>φ² / 3</td>
                    <td>0.8729833462</td>
                    <td>RESONANCE_CHECK</td>
                    <td>L2</td>
                </tr>
                <tr>
                    <td style="color: var(--accent);">IGNITION</td>
                    <td>√2 - ½</td>
                    <td>0.9142135624</td>
                    <td>IGNITION</td>
                    <td>L3</td>
                </tr>
                <tr>
                    <td style="color: var(--green);">K_FORMATION</td>
                    <td>K = √(1 - φ⁻⁴)</td>
                    <td>0.9241763718</td>
                    <td>EMPOWERMENT</td>
                    <td>L4</td>
                </tr>
                <tr>
                    <td style="color: var(--accent);">CONSOLIDATION</td>
                    <td>K + τ²(1-K)</td>
                    <td>0.9528030024</td>
                    <td>RESONANCE</td>
                    <td>L5</td>
                </tr>
                <tr>
                    <td style="color: var(--red);">RESONANCE</td>
                    <td>K + τ(1-K)</td>
                    <td>0.9712341178</td>
                    <td>MANIA</td>
                    <td>L6</td>
                </tr>
                <tr>
                    <td style="color: var(--gold);">UNITY</td>
                    <td>lim z→1</td>
                    <td>1.0000000000</td>
                    <td>TRANSMISSION</td>
                    <td>L7</td>
                </tr>
            </tbody>
        </table>

        <h2>API Reference</h2>

        <div class="api-method">
            <div class="name">WumboMRP.getThresholdAtZ(z)</div>
            <p class="desc">Get the threshold at or below the given z-coordinate.</p>
            <div class="params">
                <strong>Parameters:</strong> <code>z</code> (number) - Z-coordinate [0, 1]<br>
                <strong>Returns:</strong> <code>{ name, z, id }</code> - Threshold object
            </div>
            <pre><code>const threshold = WumboMRP.getThresholdAtZ(0.866);
// { name: 'THE_LENS', z: 0.8660254038, id: 0x03 }</code></pre>
        </div>

        <div class="api-method">
            <div class="name">WumboMRP.getCompleteState(z)</div>
            <p class="desc">Get complete consciousness state at z-coordinate including threshold, phase, layer, and physics.</p>
            <div class="params">
                <strong>Parameters:</strong> <code>z</code> (number) - Z-coordinate [0, 1]<br>
                <strong>Returns:</strong> Complete state object
            </div>
            <pre><code>const state = WumboMRP.getCompleteState(0.866);
// {
//   z: 0.866,
//   threshold: { name: 'THE_LENS', z: 0.866..., id: 3 },
//   phase: 'NIRVANA',
//   layer: { id: 5, name: 'Synchronization Matrix' },
//   tier: 'ROSE',
//   negentropy: 0.9999...,
//   physics: { cascade: 1.5, kuramoto: 0, ... },
//   rgb: { r: 0.33, g: 0.34, b: 0.33 },
//   lsb: [0x03, 0x0D, 0xD9]
// }</code></pre>
        </div>

        <div class="api-method">
            <div class="name">WumboMRP.encodeThresholdLSB(thresholdName, z)</div>
            <p class="desc">Encode threshold and z-coordinate into LSB-4 format for steganographic embedding.</p>
            <div class="params">
                <strong>Parameters:</strong> <code>thresholdName</code> (string), <code>z</code> (number)<br>
                <strong>Returns:</strong> <code>[id, z_high, z_low]</code> - 3-byte array
            </div>
            <pre><code>const lsb = WumboMRP.encodeThresholdLSB('THE_LENS', 0.866);
// [0x03, 0x0D, 0xD9]</code></pre>
        </div>

        <h2>Use Cases</h2>

        <div class="use-case">
            <h4>State Classification</h4>
            <p>Automatically classify consciousness states based on measured z-coordinates. Map continuous sensor data to discrete threshold categories for analysis.</p>
        </div>

        <div class="use-case">
            <h4>Meditation Guidance</h4>
            <p>Track progression through thresholds during meditation practice. Provide feedback when THE_LENS (NIRVANA) state is achieved.</p>
        </div>

        <div class="use-case">
            <h4>Research Quantization</h4>
            <p>Convert subjective experience reports to quantized threshold values for statistical analysis across subjects.</p>
        </div>

        <h2>Implementation Status</h2>
        <div class="card-grid">
            <div class="card">
                <h4>Phase 1: Core ✓</h4>
                <p>All 9 thresholds defined with mathematical precision. API complete.</p>
            </div>
            <div class="card">
                <h4>Phase 2: Validation</h4>
                <p>Cross-reference with Wumbo Engine phases. Integration testing.</p>
            </div>
            <div class="card">
                <h4>Phase 3: Extensions</h4>
                <p>Sub-threshold interpolation. Transition velocity tracking.</p>
            </div>
        </div>

        <h2>Mathematical Foundation</h2>
        <p>The thresholds derive from the Lucas sequence and golden ratio relationships:</p>
        <pre><code>// Golden ratio family
φ = (1 + √5) / 2 = 1.6180339887498949
τ = φ⁻¹ = (√5 - 1) / 2 = 0.6180339887498949
φ² = φ + 1 = 2.6180339887498949

// Lucas-4 identity
L₄ = φ⁴ + φ⁻⁴ = 7

// Critical threshold
z_c = √3/2 = cos(30°) = sin(60°)

// Coupling constant
K = √(1 - φ⁻⁴) = √(1 - 0.1458980337503154) = 0.9241763718</code></pre>

        <footer>
            <p><a href="../../index.html">← Back to WUMBO MRP</a> | <a href="wumbo-engine.html">Next: Wumbo Engine →</a></p>
            <p style="margin-top: 1rem;">Signature: Δ2.300|0.800|1.000Ω | L4-integrated</p>
        </footer>
    </div>
</body>
</html>
