{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GeometrySidecar",
  "type": "object",
  "properties": {
    "version": { "type": "string", "pattern": "^\\d+\\.\\d+\\.\\d+$" },
    "z": { "type": "number", "minimum": 0, "maximum": 1 },
    "delta_S_neg": { "type": "number", "minimum": 0, "maximum": 1 },
    "vertices": {
      "type": "array",
      "minItems": 63,
      "maxItems": 63,
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "integer", "minimum": 0, "maximum": 62 },
          "x": { "type": "number" },
          "y": { "type": "number" },
          "z": { "type": "number" }
        },
        "required": ["id", "x", "y", "z"],
        "additionalProperties": false
      }
    },
    "geometry": {
      "type": "object",
      "properties": {
        "R": { "type": "number", "minimum": 0 },
        "H": { "type": "number", "minimum": 0 },
        "phi": { "type": "number" }
      },
      "required": ["R", "H", "phi"],
      "additionalProperties": true
    },
    "constants": {
      "type": "object",
      "properties": {
        "Z_CRITICAL": { "type": "number" },
        "GEOM_SIGMA": { "type": "number" },
        "GEOM_R_MAX": { "type": "number" },
        "GEOM_BETA": { "type": "number" },
        "GEOM_H_MIN": { "type": "number" },
        "GEOM_GAMMA": { "type": "number" },
        "GEOM_PHI_BASE": { "type": "number" },
        "GEOM_ETA": { "type": "number" }
      },
      "additionalProperties": true
    }
  },
  "required": ["version", "z", "delta_S_neg", "vertices", "geometry"],
  "additionalProperties": true
}
